---
title: 101204 phpase 加密
layout: post
permalink: /1585.html
categories:
  - Code
tags:
  - ase加密
  - PHP
  - 超过16位
---
> <div id="_mcePaste">
>
> </div>

<div id="_mcePaste">
  <a href="http://www.80aj.com/wp-content/uploads/2010/08/php.jpg"><img class="aligncenter size-medium wp-image-1427" title="php" src="http://www.80aj.com/wp-content/uploads/2010/08/php-300x190.jpg" alt="" width="300" height="190" /></a>
</div>

<div>
  php ase 有三种加密方式，这里带来的是 不带vi的简单加密  超过16位 改如何解决.  aes128.php网上有下载 找下就可以了
</div>

> <div>
>
> </div>
> 
> <div>
>   include_once &#8220;AES128.php&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   $aes=new AES128(); // 实例化
> </div>
> 
> <div id="_mcePaste">
>   $key=$aes->makeKey(&#8220;chinachinachinab&#8221;); //
> </div>
> 
> <div id="_mcePaste">
>   $ciphertext = &#8220;id=2001400&password=123456&adsid=99&userip=61.147.74.220&#8243;; //明文
> </div>
> 
> <div id="_mcePaste">
>   $length=strlen($ciphertext);
> </div>
> 
> <div id="_mcePaste">
>   if($length>16){
> </div>
> 
> <div id="_mcePaste">
>   $str=&#8221;";
> </div>
> 
> <div id="_mcePaste">
>   $fori=ceil($length/16);
> </div>
> 
> <div id="_mcePaste">
>   for($i=0;$i<$fori;$i++){
> </div>
> 
> <div id="_mcePaste">
>   $newstr=substr($ciphertext,$i*16,($i+1)*16);
> </div>
> 
> <div id="_mcePaste">
>   echo $newstr.&#8221;<br>&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   $ct=$aes->blockEncrypt($newstr, $key);
> </div>
> 
> <div id="_mcePaste">
>   $str.=$ct;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   echo base64_encode($str);
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   $ct=$aes->blockEncrypt($ciphertext, $key);
> </div>
> 
> <div id="_mcePaste">
>   $cpt=$aes->blockDecrypt($str,$key);
> </div>