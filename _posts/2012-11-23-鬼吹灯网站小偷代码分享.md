---
title: 121113 鬼吹灯 网站小偷代码 分享
layout: post
permalink: /2479.html
categories:
  - Code
tags:
  - php小偷
  - 小说
  - 采集
  - 鬼吹灯
---
hostloc 看到的 代码很简介就1页 正则标题 取列表 分析url 读取内容 ,带么很简洁所以拿过来分享下:) 鬼吹灯小说介绍: 《鬼吹灯》是一部中国大陆的网络小说，主要内容是盗墓寻宝，作者为天下霸唱。第一部包括四卷，分别是《精绝古城》、《龙岭迷窟》、《云南虫谷》和《昆仑神宫》。随后作者继续创作第二部，内容涉及陈瞎子和鹧鸪哨之盗墓往事。第二部包括四卷，分别是《黄皮子坟》、《南海归墟》、《怒晴湘西》和《巫峡棺山》，全八卷简体中文版由安徽文艺出版社发行，但对原书中部分“封建迷信”、“恐怖灵异”的内容进行删改。该书在台湾由高宝国际出版集团出版繁体中文版，在第二部将《巫峡棺山》分成《不死地仙》及《巫峡棺山》。 更多资料查看 点击访问百度百科鬼吹灯 介绍 好吧 很好看 可惜我一字都未看过 不喜欢这类书籍 o(︶︿︶)o 唉. 代码 保存成 \*.php 访问即可 <h2>鬼吹灯全集</h2> <style> a{ text-decoration:none; color: #3B8DD1; } a:hover{ text-decoration:underline; color: #B50101; } </style> <?php //这个是根据鬼吹灯这个网站写的采集方法，别的网站不适合 //首页读取远程网页一次，内容页读取远程网页两次，分别是首页读一次，内容页读一次 //要采集很简单，写数据库最简单，模拟提交麻烦一点 header("Content-Type:text/html;charset=utf-8"); $url = "http://www.guichuideng.org/"; $fcontents = file\_get\_contents($url); $i = 0; //获取所有文章标题 preg\_match\_all('/\">(.\*?)<\/a><\/td>/',$fcontents,$titles);//正则匹配 foreach ($titles\[1] as $title){ $post[]=array("title"=>$title); } //获取所有文章路径 preg\_match\_all('/<td><a href=\"(.\*?)\">/',$fcontents,$hrefs);//正则匹配 foreach ($hrefs[1] as $href){ $post2[] = array("href"=>$href); } //合并所有标题和路径 while ( $i<=751 ){ $me = array\_merge($post[$i], $post2[$i]); $p[] = $me; $i++; } //首页列表 if (!isset($\_GET['p']) || isset($\_GET['page']) ) { foreach ($p as $k=>$pp){ ?> <a href="index.php?p=<?php echo $k; ?>"><?php echo $pp['title']; ?></a><br> <?php }} //文章页 if ( isset($\_GET['p']) ) { $page = $\_GET['p']; $fc= str\_replace("\r\n","",str\_replace("\r","",str\_replace("\n","",file\_get\_contents($p[$page\]\['href'\]))));//替换换行 preg_match('/<div style="clear:both"><\/div>(.\*?)<p align="center">/',$fc,$content);//正则匹配 ?> <a href="index.php?page=home">返回目录</a><br><br> <?php if ($page >= 1) { ?><a href="index.php?p=<?php echo $page-1; ?>">上一页</a> | <?php } ?> <?php if ($page <= 751) { ?><a href="index.php?p=<?php echo $page+1; ?>">下一页</a> <?php } ?> <br> <h3><?php echo $p\[$page\]\['title'\];?></h3> <?php echo $content[1]; ?> <?php if ($page >= 1) { ?><a href="index.php?p=<?php echo $page-1; ?>">上一页</a> | <?php } ?> <?php if ($page <= 751) { ?><a href="index.php?p=<?php echo $page+1; ?>">下一页</a> <?php } ?> <br><br> <a href="index.php?page=home">返回目录</a><br> <?php } ?>