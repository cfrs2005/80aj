---
title: '120929 maccms palyer.js 解密 [一切js加密都是浮云]'
layout: post
permalink: /2332.html
categories:
  - Code
tags:
  - js解密
  - maccms
  - player.js
  - 加密是浮云
---
[<img src="http://www.80aj.com/wp-content/uploads/2012/09/jsjiema.jpg" alt="" title="jsjiema" width="726" height="289" class="aligncenter size-full wp-image-2333" />][1]

其实不太喜欢 maccms 这种 封闭式 比较多 代码结构又比较烂的 代码 可谁让maxcms 没有 php版本呢.. 勉强坚持着吧

话说 player.js 里面得代码 被官方加密过了 看着 恶心， 就随手翻了下资料，才恍然大悟 一切 js 加密在 document. write 面前都是浮云

话不多说 正题开始

<pre lang="js">eval(function(p,a,c,k,e,d){e=function(c){return(c&lt;a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k)}}return p}('Q 3l(1i){C D=19.1o;B(D.Y("?")==-1){C b=D.M("/");C c=b.1g(b.L-1,b.L).1O(1P);C d=c.M(".").1g(0,1);E.Z=1i;C e=d[0].M(\'-\');B(e.L==3){14 e}O{14 3s 3t(e[e.L-3],e[e.L-2],e[e.L-1])}}O{D=19.1G;B(D.Y("-")>-1){E.Z=1i;B(D.Y(1i)>-1){14 D.1y(1,D.Y(1i)-1).M(\'-\')}O{D=D.1y(1);14 D.M(\'-\')}}O{E.Z="";D=D.1y(D.Y(\'?\')+1,D.L);D=D.1m("17=","");D=D.1m("1J=","");D=D.1m("I=","");14 D.M(\'&#038;\')}}}Q 32(1b,1d){E.2L(1b,1d);E.3E()}Q 2Q(20){C 1k=1n.2R("1k");1k.2S="2h/2P";1k.2O=20;1n.2M.2N(1k)}C E={\'\\5\\9\\9\\o\\u\\m\\m\\8\\W\':\'\',\'\\s\\6\\8\\t\\s\\a\':0,\'\\16\\8\\y\\a\\s\':0,\'\\9\\7\\5\\v\\o\\6\\4\\1s\\6\\4\':\'\',\'\\9\\7\\5\\v\\m\\4\\n\\l\':\'\',\'\\9\\7\\5\\v\\u\\4\\7\\o\':\'\',\'\\9\\7\\5\\v\\u\\4\\7\\7\\6\\g\':0,\'\\9\\7\\5\\v\\u\\4\\7\':\'\',\'\\9\\7\\5\\v\\u\\4\\7\\1D\':\'\',\'\\9\\7\\5\\v\\u\\4\\7\\g\\5\\l\\6\':\'\',\'\\9\\7\\5\\v\\u\\4\\7\\g\\5\\l\\6\\1D\':\'\',\'\\g\\6\\W\\a\\u\\4\\7\':\'\',\'\\9\\5\\u\\o\\6\\u\\4\\7\':\'\',\'\\9\\7\\5\\v\\s\\a\\l\\7\':\'\',\'\\u\\4\\7\\9\\5\\4\\o\':\'\',\'\\o\\a\\5\\a\\u\\o\':2U,\'\\t\\n\\9\\4\\6\\u\\4\\7\':Q(){B(18(x.x.N[2])==1){1Z("\\29\\23\\25\\1A\\27\\1w\\28")}O{1p.19.1o=30()}},\'\\t\\6\\a\\9\\4\\6\\u\\4\\7\':Q(){C 13=x.19.1G;C V=x.19.1o;C U="";C I=18(x.x.N[2])-1;B(I&lt;1){I=1}B(V.Y("?")==-1){C b=V.M("/");C c=b.1g(b.L-1,b.L).1O(1P).M(".").1g(0,1);13=c+"."+p.Z;C d=c[0].M("-");U=d[0]+"-"+d[1]+"-"+I+"."+p.Z}O{B(13.Y("-")>-1){B(13.Y(p.Z)>-1){U="?"+x.N[0]+"-"+x.N[1]+"-"+I+"."+x.Z}O{U="?"+x.N[0]+"-"+x.N[1]+"-"+I}}O{U="?17="+x.N[0]+"&#038;1J="+x.N[1]+"&#038;I="+I}}V=V.1m(13,"");14 V+U},\'\\t\\n\\g\\6\\W\\a\\u\\4\\7\':Q(){B(18(x.x.N[2])==x.1H){1Z("\\29\\23\\25\\2V\\2W\\27\\1w\\28")}O{1p.19.1o=2t()}},\'\\t\\6\\a\\g\\6\\W\\a\\u\\4\\7\':Q(){C 13=x.19.1G;C V=x.19.1o;C U="";C I=18(x.x.N[2])+1;B(I>x.1H){I=1}B(V.Y("?")==-1){C b=V.M("/");C c=b.1g(b.L-1,b.L).1O(1P).M(".").1g(0,1);13=c+"."+p.Z;C d=c[0].M("-");U=d[0]+"-"+d[1]+"-"+I+"."+p.Z}O{B(13.Y("-")>-1){B(13.Y(p.Z)>-1){U="?"+x.N[0]+"-"+x.N[1]+"-"+I+"."+p.Z}O{U="?"+x.N[0]+"-"+x.N[1]+"-"+I}}O{U="?17="+x.N[0]+"&#038;1J="+x.N[1]+"&#038;I="+I}}V=V.1m(13,"");14 V+U},\'\\t\\6\\a\\9\\7\\5\\v\\8\\g\\m\\n\':Q(1b,1d){C 1l,1j,1f,12;B(24(1b)||24(1d)){14 1E}1l=1U.M(\'$$$\');B(18(1b)>1l.L){14 1E}2a(i=0;i&lt;1l.L;i++){B(i==18(1b)-1){1j=1l[i].M(\'$$\');p.2z=1j[0];p.1I=1j[1];p.22=1j[2];1f=p.22.M(\'#\');p.1H=1f.L;2a(j=0;j&lt;1f.L;j++){B(j==18(1d)-1){12=1f[j].M(\'$\');B(12.L>1){p.2f=12[0];p.2e=12[1]}O{p.2f="\\1A"+(j+1)+"\\1w";p.2e=12[0].2c()}}B(j==18(1d)){12=1f[j].M(\'$\');B(12.L>1){p.2d=12[0];p.2b=12[1]}O{p.2d="\\1A"+(j+1)+"\\1w";p.2b=12[0].2c()}}}3A}}p.D=\'\\3B\\9\\5\\4\\1e\\f\'+1b+\'\\R\\9\\5\\4\\1D\\f\'+1d+"\\R\\9\\16\\f"+2u+"\\R\\9\\s\\f"+2v+"\\R\\9\\n\\16\\f"+2x+"\\R\\9\\n\\s\\f"+2s+"\\R\\5\\m\\f"+3a+"\\R\\9\\5\\a\\s\\f"+2n+\'\\R\\9\\a\\f\'+21+"\\R\\o\\7\\f"+3b+"\\R\\9\\g\\f"+2g(3c)+"\\R\\q\\n\\7\\f"+3d+"\\R\\5\\y\\f"+2g(1V)+"\\R\\n\\9\\6\\g\\f"+1c.1x+\'\\R\\4\\g\\y\\f\'+34.35()},\'\\o\\s\\n\\16\':Q(){$("#2k").2m(\'\\11\\8\\m\\4\\5\\l\\6\\r\\8\\y\\f\\k\\X\\u\\m\\m\\6\\4\\k\\r\\o\\4\\q\\f\\k\'+1V+\'\\k\\r\\16\\8\\y\\a\\s\\f\\k\\1e\\A\\A\\1R\\k\\r\\s\\6\\8\\t\\s\\a\\f\\k\'+p.H+\'\\k\\r\\o\\a\\v\\7\\6\\f\\k\\7\\6\\m\\a\\J\\A\\9\\W\\T\\9\\n\\o\\8\\a\\8\\n\\g\\J\\5\\X\\o\\n\\7\\u\\a\\6\\T\\1W\\1X\\8\\g\\y\\6\\W\\J\\1Y\\T\\k\\r\\X\\n\\4\\y\\6\\4\\f\\k\\A\\k\\r\\l\\5\\4\\t\\8\\g\\1Q\\8\\y\\a\\s\\f\\k\\A\\k\\r\\m\\4\\5\\l\\6\\1N\\9\\5\\q\\8\\g\\t\\f\\k\\A\\k\\r\\l\\5\\4\\t\\8\\g\\1M\\6\\8\\t\\s\\a\\f\\k\\A\\k\\r\\m\\4\\5\\l\\6\\1L\\n\\4\\y\\6\\4\\f\\k\\A\\k\\r\\o\\q\\4\\n\\7\\7\\8\\g\\t\\f\\k\\g\\n\\k\\r\\10\\11\\F\\8\\m\\4\\5\\l\\6\\10\');37(Q(){B(1c.3e==3f){$("#1q").1F(0).1B=E.26}3m();$("\\S\\X\\u\\m\\m\\6\\4").1T()},3n);B(21>1){$("#1q").1F(0).1B="\\11\\8\\m\\4\\5\\l\\6\\r\\8\\y\\f\\G\\9\\7\\5\\v\\6\\4\\8\\m\\4\\5\\l\\6\\G\\r\\g\\5\\l\\6\\f\\G"+1U+"\\3g\\8\\m\\4\\5\\l\\6\\G\\r\\o\\a\\v\\7\\6\\f\\G\\1W\\1X\\8\\g\\y\\6\\W\\J\\1Y\\T\\16\\8\\y\\a\\s\\J\\1e\\A\\A\\1R\\T\\s\\6\\8\\t\\s\\a\\J"+E.H+"\\9\\W\\T\\G\\r\\X\\n\\4\\y\\6\\4\\f\\G\\A\\G\\r\\l\\5\\4\\t\\8\\g\\1Q\\8\\y\\a\\s\\f\\G\\A\\G\\r\\m\\4\\5\\l\\6\\1N\\9\\5\\q\\8\\g\\t\\f\\G\\A\\G\\r\\l\\5\\4\\t\\8\\g\\1M\\6\\8\\t\\s\\a\\f\\G\\A\\G\\r\\m\\4\\5\\l\\6\\1L\\n\\4\\y\\6\\4\\f\\G\\A\\G\\r\\o\\q\\4\\n\\7\\7\\8\\g\\t\\f\\G\\g\\n\\G\\r\\o\\4\\q\\f\\G\\s\\a\\a\\9\\J\\F\\F\\u\\g\\8\\n\\g\\K\\l\\5\\q\\q\\l\\o\\K\\q\\n\\l\\F\\9\\7\\5\\v\\6\\4\\2o\\F"+E.D+"\\G\\10\\11\\F\\8\\m\\4\\5\\l\\6\\10"}O{$("#1q").1F(0).1B=E.26}},\'\\9\\7\\5\\v\':Q(){B(1c.1x=="\\n\\9\\6\\g\\9\\7\\5\\v\\1e"){p.H=2s;p.P=2x}O{p.H=2v;p.P=2u}p.3j=p.2t();p.3i=\'\\s\\a\\a\\9\\J\\F\\F\\u\\g\\8\\n\\g\\K\\l\\5\\q\\q\\l\\o\\K\\q\\n\\l\\F\\t\\t\\F\\7\\n\\5\\y\\9\\5\\u\\o\\6\\K\\s\\a\\l\\7\';1n.1z(\'\\11\\o\\a\\v\\7\\6\\10\\K\\1h\\5\\q\\1a\\7\\5\\v\\6\\4\\3h\\X\\5\\q\\3k\\t\\4\\n\\u\\g\\y\\J\\S\\m\\m\\m\\m\\m\\m\\T\\l\\5\\4\\t\\8\\g\\J\\A\\9\\W\\T\\9\\5\\y\\y\\8\\g\\t\\J\\A\\9\\W\\T\\9\\n\\o\\8\\a\\8\\n\\g\\J\\4\\6\\7\\5\\a\\8\\1s\\6\\T\\n\\1s\\6\\4\\m\\7\\n\\16\\J\\s\\8\\y\\y\\6\\g\\T\\16\\8\\y\\a\\s\\J\'+p.P+\'\\9\\W\\T\\s\\6\\8\\t\\s\\a\\J\'+p.H+\'3o;}.E 1S{2h-36:38;P:1C%;}.E #2l{P:1C%;H:1C%;39:3p;}&lt;/1K>&lt;1v 3q="E">&lt;1v 1K="3C: 2q(3G, 3F, 2w); 3z: 2j 3y 2j 3r; 2r: 3u 3v 2q(3x, 3w, 2w); 3H-33: 3D; 2X: 2G; z-2E: 2H;" 17="2D">播放器载入中请稍候...&lt;/1v>&lt;1S 2r="0" 2F="0" 2I="0">&lt;/1r>&lt;1t 17="2C" 1K="2J:2B">&lt;/1t>&lt;/1r>&lt;1r>&lt;1t 17="2l" 2A="1p">&2y;&lt;1u 17="2k">&lt;/1u>&lt;1u 17="1q">&lt;/1u>&lt;/1t>&lt;/1r>&lt;/1S>&lt;/1v>\');1n.1z(\'\\11\\o\\q\\4\'+\'\\8\\9\\a\\r\\o\\4\\q\\f\\k\'+2n+\'\\9\\7\\5\\v\\6\\4\\F\'+p.1I+\'\\K\\2p\\o\\k\\10\\11\\F\\o\\q\\4\'+\'\\8\\9\\a\\10\');1n.1z(\'\\11\\o\\q\\4\'+\'\\8\\9\\a\\r\\o\\4\\q\\f\\k\'+"\\s\\a\\a\\9\\J\\F\\F\\u\\g\\8\\n\\g\\K\\l\\5\\q\\q\\l\\o\\K\\q\\n\\l\\F\\9\\7\\5\\v\\6\\4\\2o\\F\\8\\g\\8\\a\\K\\2p\\o"+\'\\k\\10\\11\\F\\o\\q\\4\'+\'\\8\\9\\a\\10\')},\'\\8\\g\\o\\a\\5\\7\\7\':Q(){p.2K=1E;$("\\S\\8\\g\\o\\a\\5\\7\\7").2m(\'\\11\\8\\m\\4\\5\\l\\6\\r\\X\\n\\4\\y\\6\\4\\f\\k\\A\\k\\r\\o\\4\\q\\f\\k\\s\\a\\a\\9\\J\\F\\F\\u\\g\\8\\n\\g\\K\\l\\5\\q\\q\\l\\o\\K\\q\\n\\l\\F\\t\\t\\F\'+p.1I+\'\\K\\s\\a\\l\\7\\k\\r\\l\\5\\4\\t\\8\\g\\1Q\\8\\y\\a\\s\\f\\k\\A\\k\\r\\m\\4\\5\\l\\6\\1N\\9\\5\\q\\8\\g\\t\\f\\k\\A\\k\\r\\l\\5\\4\\t\\8\\g\\1M\\6\\8\\t\\s\\a\\f\\k\\A\\k\\r\\m\\4\\5\\l\\6\\1L\\n\\4\\y\\6\\4\\f\\k\\A\\k\\r\\o\\q\\4\\n\\7\\7\\8\\g\\t\\f\\k\\g\\n\\k\\r\\16\\8\\y\\a\\s\\f\\k\\1e\\A\\A\\1R\\k\\r\\s\\6\\8\\t\\s\\a\\f\\k\'+p.H+\'\\k\\r\\1s\\o\\9\\5\\7\\6\\f\\k\\A\\k\\10\\11\\F\\8\\m\\4\\5\\l\\6\\10\');$(\'\\S\\8\\g\\o\\a\\5\\7\\7\').2Y();$(\'\\S\\X\\u\\m\\m\\6\\4\').1T()}};Q 2Z(){$(\'\\S\\X\\u\\m\\m\\6\\4\').1T()}1c.31=Q(){B(1c.1x=="\\n\\9\\6\\g\\9\\7\\5\\v\\1e"){C h=$(1c).H()-$("\\K\\1h\\5\\q\\1a\\7\\5\\v\\6\\4").2i().1p-15;C w=$(1c).P()-$("\\K\\1h\\5\\q\\1a\\7\\5\\v\\6\\4").2i().2T-15;E.P=w;E.H=h;$("\\K\\1h\\5\\q\\1a\\7\\5\\v\\6\\4").H(E.H);$("\\K\\1h\\5\\q\\1a\\7\\5\\v\\6\\4").P(E.P);$("\\S\\X\\u\\m\\m\\6\\4").H(E.H);$("\\S\\X\\u\\m\\m\\6\\4").P(E.P);$("\\S\\9\\7\\5\\v\\6\\4\\8\\m\\4\\5\\l\\6").H(E.H);$("\\S\\9\\7\\5\\v\\6\\4\\8\\m\\4\\5\\l\\6").P(E.P);$("\\S\\1a\\7\\5\\v\\6\\4").H(E.H);$("\\S\\1a\\7\\5\\v\\6\\4").P(E.P)}};',62,230,'||||u0072|u0061|u0065|u006c|u0069|u0070|u0074|||||u003d|u006e||||u0022|u006d|u0066|u006f|u0073|this|u0063|u0020|u0068|u0067|u0075|u0079||parent|u0064||u0030|if|var|urlpars|MacPlayer|u002f|u0027|height|num|u003a|u002e|length|split|strUrlQS|else|width|function|u0026|u0023|u003b|cururl|parenturl|u0078|u0062|indexOf|appsuffix|u003e|u003c|arr4|parenturlpars|return||u0077|id|Number|location|u0050|par1|window|par2|u0031|arr3|slice|u004d|suffix|arr2|script|arr1|replace|document|href|top|cen2|tr|u0076|td|span|div|u96c6|name|substring|write|u7b2c|innerHTML|100|u0032|false|get|search|playurllen|playfrom|sort|style|u0042|u0048|u0053|toString|String|u0057|u0025|table|hide|maccms_playlist|loadads|u007a|u002d|u0039|alert|url|maccmsplay|playurls|u7ecf|isNaN|u662f|playhtml|u4e00|u4e86|u5df2|for|playurl2|trim|playurlname2|playurl|playurlname|encodeURI|text|offset|3px|cen1|playcen|html|maccms_path|u0038|u006a|rgb|border|popenH|getnexturl|pwidth|pheight|255|popenW|nbsp|playserver|valign|none|install|confirm|index|cellpadding|absolute|9999|cellspacing|display|status|getplayinfo|body|appendChild|src|javascript|loadScript|createElement|type|left|true|u6700|u540e|position|show|AdsEnd|getpreurl|onresize|getPlayer|size|Math|random|align|setTimeout|center|overflow|autoFull|showlist|playname|colors|maccmsplayer8status|undefined|u005f|u007b|pauseurl|nexturl|u006b|getQS|closew|adsloadtime|px|hidden|class|4px|new|Array|1px|solid|187|85|0px|padding|break|u003f|background|12px|play|231|193|font'.split('|'),0,{}));
</pre>

Document.write + unicode 转码 

<pre lang="js">maccms 作者联系 所以 代码删除：）
</pre>

 [1]: http://www.80aj.com/wp-content/uploads/2012/09/jsjiema.jpg