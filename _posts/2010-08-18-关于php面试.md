---
title: 100818 关于php 面试
layout: post
permalink: /1458.html
categories:
  - Code
tags:
  - PHP
  - php面试
  - php面试题及答案
  - 好耶
  - 面试
---
[<img class="aligncenter size-full wp-image-1427" title="php" src="http://www.80aj.com/wp-content/uploads/2010/08/php.jpg" alt="" width="500" height="317" />][1]

自己也做了不少次PHP程序员面试,今天出去面试了次,效果很不理想，双方面都有.

<span style="color: #ff0000;">作为用人单位：</span>

应该尊重每一个程序员,对应的程序员级别就应该出对应级别的题目,今天去 好耶 面试的，情况觉得很糟糕.

题目都是网上摘抄的，都好多年了，怪不得群里的人说,第一次去和第二次去的题目是一样的，老掉牙 网上一搜，满地都是，面试一个人是要成本的,不管是招聘方,还是面试人员都需要花费时间 金钱，认真对待每一个面试的人，才不失为一个大公司的象征,简单的填张面试登记表,一套题目，简单的1-2个问题，会错过多少好的程序员。

<span style="color: #ff0000;">作为面试人员：</span>

需要注意  着装合理，答题字迹清晰，适当的阅读一些面试题，能让你轻松的通过笔试。

一般来说  面试会有2部分打分，人事打分，和技术主管打分，两者打分合起来 可能和你工资相关。

<span style="color: #ff0000;">最后祝语：</span>

不要害怕面试，面试是一种人生历练，是你选择公司，也是公司选择你，不要害怕失去什么，一份工作而已。工资要高点，不要让程序员白菜价了

在这里给大家贴下大概的题目和答案，有想找PHP工作的人可以看下,说不定你能用上.

<span style="color: #ff0000;">题目以及答案如下：</span>

> <div id="_mcePaste">
>   基础题:
> </div>
> 
> <div id="_mcePaste">
>   1.表单中 get与post提交方法的区别?
> </div>
> 
> <div id="_mcePaste">
>   答:get是发送请求HTTP协议通过url参数传递进行接收,而post是实体数据,可以通过表单提交大量信息.
> </div>
> 
> <div id="_mcePaste">
>   2.session与cookie的区别?
> </div>
> 
> <div id="_mcePaste">
>   答:session:储存用户访问的全局唯一变量,存储在服务器上的php指定的目录中的（session_dir）的位置进行的存放
> </div>
> 
> <div id="_mcePaste">
>   cookie:用来存储连续訪問一个頁面时所使用，是存储在客户端，对于Cookie来说是存储在用户WIN的Temp目录中的。
> </div>
> 
> <div id="_mcePaste">
>   两者都可通过时间来设置时间长短
> </div>
> 
> <div id="_mcePaste">
>   3.数据库中的事务是什么?
> </div>
> 
> <div id="_mcePaste">
>   答:事务（transaction）是作为一个单元的一组有序的数据库操作。如果组中的所有操作都成功，则认为事务成功，即使只有一个操作失败，事务也不成功。如果所有操作完成，
> </div>
> 
> <div id="_mcePaste">
>   事务则提交，其修改将作用于所有其他数据库进程。如果一个操作失败，则事务将回滚，该事务所有操作的影响都将取消。
> </div>
> 
> <div id="_mcePaste">
>   简述题:
> </div>
> 
> <div id="_mcePaste">
>   1、用PHP打印出前一天的时间格式是2006-5-10 22:21:21(2分)
> </div>
> 
> <div id="_mcePaste">
>   答:echo date(&#8216;Y-m-d H:i:s&#8217;, strtotime(&#8216;-1 days&#8217;));
> </div>
> 
> <div id="_mcePaste">
>   2、echo(),print(),print_r()的区别(3分)
> </div>
> 
> <div id="_mcePaste">
>   答:echo是PHP语句, print和print_r是函数,语句没有返回值,函数可以有返回值(即便没有用)
> </div>
> 
> <div id="_mcePaste">
>   print（）    只能打印出简单类型变量的值(如int,string)
> </div>
> 
> <div id="_mcePaste">
>   print_r（） 可以打印出复杂类型变量的值(如数组,对象)
> </div>
> 
> <div id="_mcePaste">
>   echo     输出一个或者多个字符串
> </div>
> 
> <div id="_mcePaste">
>   3、能够使HTML和PHP分离开使用的模板(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:Smarty,Dwoo,TinyButStrong,Template Lite,Savant,phemplate,XTemplate
> </div>
> 
> <div id="_mcePaste">
>   5、使用哪些工具进行版本控制?(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:cvs,svn,vss;
> </div>
> 
> <div id="_mcePaste">
>   6、如何实现字符串翻转?(3分)
> </div>
> 
> <div id="_mcePaste">
>   答:echo strrev($a);
> </div>
> 
> <div id="_mcePaste">
>   7、优化MYSQL数据库的方法。(4分，多写多得)
> </div>
> 
> <div id="_mcePaste">
>   答:
> </div>
> 
> <div id="_mcePaste">
>   1、选取最适用的字段属性,尽可能减少定义字段长度,尽量把字段设置NOT NULL,例如&#8217;省份,性别&#8217;,最好设置为ENUM
> </div>
> 
> <div id="_mcePaste">
>   2、使用连接（JOIN）来代替子查询:
> </div>
> 
> <div id="_mcePaste">
>   a.删除没有任何订单客户:DELETE FROM customerinfo WHERE customerid NOT in(SELECT customerid FROM orderinfo)
> </div>
> 
> <div id="_mcePaste">
>   b.提取所有没有订单客户:SELECT FROM customerinfo WHERE customerid NOT in(SELECT customerid FROM orderinfo)
> </div>
> 
> <div id="_mcePaste">
>   c.提高b的速度优化:SELECT FROM customerinfo LEFT JOIN orderid customerinfo.customerid=orderinfo.customerid
> </div>
> 
> <div id="_mcePaste">
>   WHERE orderinfo.customerid IS NULL
> </div>
> 
> <div id="_mcePaste">
>   3、使用联合(UNION)来代替手动创建的临时表
> </div>
> 
> <div id="_mcePaste">
>   a.创建临时表:SELECT name FROM `nametest` UNION SELECT username FROM `nametest2`
> </div>
> 
> <div id="_mcePaste">
>   4、事务处理:
> </div>
> 
> <div id="_mcePaste">
>   a.保证数据完整性,例如添加和修改同时,两者成立则都执行,一者失败都失败
> </div>
> 
> <div id="_mcePaste">
>   mysql_query(&#8220;BEGIN&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   mysql_query(&#8220;INSERT INTO customerinfo (name) VALUES (&#8216;$name1&#8242;)&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   mysql_query(&#8220;SELECT * FROM `orderinfo` where customerid=&#8221;.$id&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   mysql_query(&#8220;COMMIT&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   5、锁定表,优化事务处理:
> </div>
> 
> <div id="_mcePaste">
>   a.我们用一个 SELECT 语句取出初始数据，通过一些计算，用 UPDATE 语句将新值更新到表中。
> </div>
> 
> <div id="_mcePaste">
>   包含有 WRITE 关键字的 LOCK TABLE 语句可以保证在 UNLOCK TABLES 命令被执行之前，
> </div>
> 
> <div id="_mcePaste">
>   不会有其它的访问来对 inventory 进行插入、更新或者删除的操作
> </div>
> 
> <div id="_mcePaste">
>   mysql_query(&#8220;LOCK TABLE customerinfo READ, orderinfo WRITE&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   mysql_query(&#8220;SELECT customerid FROM `customerinfo` where id=&#8221;.$id);
> </div>
> 
> <div id="_mcePaste">
>   mysql_query(&#8220;UPDATE `orderinfo` SET ordertitle=&#8217;$title&#8217; where customerid=&#8221;.$id);
> </div>
> 
> <div id="_mcePaste">
>   mysql_query(&#8220;UNLOCK TABLES&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   6、使用外键,优化锁定表
> </div>
> 
> <div id="_mcePaste">
>   a.把customerinfo里的customerid映射到orderinfo里的customerid,
> </div>
> 
> <div id="_mcePaste">
>   任何一条没有合法的customerid的记录不会写到orderinfo里
> </div>
> 
> <div id="_mcePaste">
>   CREATE TABLE customerinfo
> </div>
> 
> <div id="_mcePaste">
>   (
> </div>
> 
> <div id="_mcePaste">
>   customerid INT NOT NULL,
> </div>
> 
> <div id="_mcePaste">
>   PRIMARY KEY(customerid)
> </div>
> 
> <div id="_mcePaste">
>   )TYPE = INNODB;
> </div>
> 
> <div id="_mcePaste">
>   CREATE TABLE orderinfo
> </div>
> 
> <div id="_mcePaste">
>   (
> </div>
> 
> <div id="_mcePaste">
>   orderid INT NOT NULL,
> </div>
> 
> <div id="_mcePaste">
>   customerid INT NOT NULL,
> </div>
> 
> <div id="_mcePaste">
>   PRIMARY KEY(customerid,orderid),
> </div>
> 
> <div id="_mcePaste">
>   FOREIGN KEY (customerid) REFERENCES customerinfo
> </div>
> 
> <div id="_mcePaste">
>   (customerid) ON DELETE CASCADE
> </div>
> 
> <div id="_mcePaste">
>   )TYPE = INNODB;
> </div>
> 
> <div id="_mcePaste">
>   注意:&#8217;ON DELETE CASCADE&#8217;,该参数保证当customerinfo表中的一条记录删除的话同时也会删除order
> </div>
> 
> <div id="_mcePaste">
>   表中的该用户的所有记录,注意使用外键要定义事务安全类型为INNODB;
> </div>
> 
> <div id="_mcePaste">
>   7、建立索引:
> </div>
> 
> <div id="_mcePaste">
>   a.格式:
> </div>
> 
> <div id="_mcePaste">
>   (普通索引)->
> </div>
> 
> <div id="_mcePaste">
>   创建:CREATE INDEX <索引名> ON tablename (索引字段)
> </div>
> 
> <div id="_mcePaste">
>   修改:ALTER TABLE tablename ADD INDEX [索引名] (索引字段)
> </div>
> 
> <div id="_mcePaste">
>   创表指定索引:CREATE TABLE tablename([...],INDEX[索引名](索引字段))
> </div>
> 
> <div id="_mcePaste">
>   (唯一索引)->
> </div>
> 
> <div id="_mcePaste">
>   创建:CREATE UNIQUE <索引名> ON tablename (索引字段)
> </div>
> 
> <div id="_mcePaste">
>   修改:ALTER TABLE tablename ADD UNIQUE [索引名] (索引字段)
> </div>
> 
> <div id="_mcePaste">
>   创表指定索引:CREATE TABLE tablename([...],UNIQUE[索引名](索引字段))
> </div>
> 
> <div id="_mcePaste">
>   (主键)->
> </div>
> 
> <div id="_mcePaste">
>   它是唯一索引,一般在创建表是建立,格式为:
> </div>
> 
> <div id="_mcePaste">
>   CREATA TABLE tablename ([...],PRIMARY KEY[索引字段])
> </div>
> 
> <div id="_mcePaste">
>   8、优化查询语句
> </div>
> 
> <div id="_mcePaste">
>   a.最好在相同字段进行比较操作,在建立好的索引字段上尽量减少函数操作
> </div>
> 
> <div id="_mcePaste">
>   例子1:
> </div>
> 
> <div id="_mcePaste">
>   SELECT * FROM order WHERE YEAR(orderDate)<2008;(慢)
> </div>
> 
> <div id="_mcePaste">
>   SELECT * FROM order WHERE orderDate<&#8221;2008-01-01&#8243;;(快)
> </div>
> 
> <div id="_mcePaste">
>   例子2:
> </div>
> 
> <div id="_mcePaste">
>   SELECT * FROM order WHERE addtime/7<24;(慢)
> </div>
> 
> <div id="_mcePaste">
>   SELECT * FROM order WHERE addtime<24*7;(快)
> </div>
> 
> <div id="_mcePaste">
>   例子3:
> </div>
> 
> <div id="_mcePaste">
>   SELECT * FROM order WHERE title like &#8220;%good%&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   SELECT * FROM order WHERE title>=&#8221;good&#8221; and name<&#8221;good&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   8、PHP的意思(送1分)
> </div>
> 
> <div id="_mcePaste">
>   答:PHP是一个基于服务端来创建动态网站的脚本语言，您可以用PHP和HTML生成网站主页
> </div>
> 
> <div id="_mcePaste">
>   9、MYSQL取得当前时间的函数是?，格式化日期的函数是(2分)
> </div>
> 
> <div id="_mcePaste">
>   答:now(),date()
> </div>
> 
> <div id="_mcePaste">
>   10、实现中文字串截取无乱码的方法。(3分)
> </div>
> 
> <div id="_mcePaste">
>   答:function GBsubstr($string, $start, $length) {
> </div>
> 
> <div id="_mcePaste">
>   if(strlen($string)>$length){
> </div>
> 
> <div id="_mcePaste">
>   $str=null;
> </div>
> 
> <div id="_mcePaste">
>   $len=$start+$length;
> </div>
> 
> <div id="_mcePaste">
>   for($i=$start;$i<$len;$i++){
> </div>
> 
> <div id="_mcePaste">
>   if(ord(substr($string,$i,1))>0xa0){
> </div>
> 
> <div id="_mcePaste">
>   $str.=substr($string,$i,2);
> </div>
> 
> <div id="_mcePaste">
>   $i++;
> </div>
> 
> <div id="_mcePaste">
>   }else{
> </div>
> 
> <div id="_mcePaste">
>   $str.=substr($string,$i,1);
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   return $str.&#8217;&#8230;&#8217;;
> </div>
> 
> <div id="_mcePaste">
>   }else{
> </div>
> 
> <div id="_mcePaste">
>   return $string;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   11、您是否用过版本控制软件? 如果有您用的版本控制软件的名字是?(1分)
> </div>
> 
> <div id="_mcePaste">
>   12、您是否用过模板引擎? 如果有您用的模板引擎的名字是?(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:用过,smarty
> </div>
> 
> <div id="_mcePaste">
>   13、请简单阐述您最得意的开发之作(4分)
> </div>
> 
> <div id="_mcePaste">
>   答:信息分类
> </div>
> 
> <div id="_mcePaste">
>   14、对于大流量的网站,您采用什么样的方法来解决访问量问题?(4分)
> </div>
> 
> <div id="_mcePaste">
>   答:确认服务器硬件是否足够支持当前的流量,数据库读写分离,优化数据表,
> </div>
> 
> <div id="_mcePaste">
>   程序功能规则,禁止外部的盗链,控制大文件的下载,使用不同主机分流主要流量
> </div>
> 
> <div id="_mcePaste">
>   15、用PHP写出显示客户端IP与服务器IP的代码1分)
> </div>
> 
> <div id="_mcePaste">
>   答:打印客户端IP:echo $_SERVER[‘REMOTE_ADDR’]; 或者: getenv(&#8216;REMOTE_ADDR&#8217;);
> </div>
> 
> <div id="_mcePaste">
>   打印服务器IP:echo gethostbyname(&#8220;www.bolaiwu.com&#8221;)
> </div>
> 
> <div id="_mcePaste">
>   16、语句include和require的区别是什么?为避免多次包含同一文件，可用(?)语句代替它们? (2分)
> </div>
> 
> <div id="_mcePaste">
>   答:require->require是无条件包含也就是如果一个流程里加入require,无论条件成立与否都会先执行require
> </div>
> 
> <div id="_mcePaste">
>   include->include有返回值，而require没有(可能因为如此require的速度比include快)
> </div>
> 
> <div id="_mcePaste">
>   注意:包含文件不存在或者语法错误的时候require是致命的,include不是
> </div>
> 
> <div id="_mcePaste">
>   17、如何修改SESSION的生存时间(1分).
> </div>
> 
> <div id="_mcePaste">
>   答:方法1:将php.ini中的session.gc_maxlifetime设置为9999重启apache
> </div>
> 
> <div id="_mcePaste">
>   方法2:$savePath = &#8220;./session_save_dir/&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   $lifeTime = 小时 * 秒;
> </div>
> 
> <div id="_mcePaste">
>   session_save_path($savePath);
> </div>
> 
> <div id="_mcePaste">
>   session_set_cookie_params($lifeTime);
> </div>
> 
> <div id="_mcePaste">
>   session_start();
> </div>
> 
> <div id="_mcePaste">
>   方法3:setcookie() and session_set_cookie_params($lifeTime);
> </div>
> 
> <div id="_mcePaste">
>   18、有一个网页地址, 比如PHP开发资源网主页: http://www.phpres.com/index.html,如何得到它的内容?($1分)
> </div>
> 
> <div id="_mcePaste">
>   答:方法1(对于PHP5及更高版本):
> </div>
> 
> <div id="_mcePaste">
>   $readcontents = fopen(&#8220;http://www.phpres.com/index.html&#8221;, &#8220;rb&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   $contents = stream_get_contents($readcontents);
> </div>
> 
> <div id="_mcePaste">
>   fclose($readcontents);
> </div>
> 
> <div id="_mcePaste">
>   echo $contents;
> </div>
> 
> <div id="_mcePaste">
>   方法2:
> </div>
> 
> <div id="_mcePaste">
>   echo file_get_contents(&#8220;http://www.phpres.com/index.html&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   19、在HTTP 1.0中，状态码401的含义是(?);如果返回“找不到文件”的提示，则可用 header 函数，其语句为(?);(2分)
> </div>
> 
> <div id="_mcePaste">
>   答:状态401代表未被授权,header(&#8220;Location:www.xxx.php&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   12、在PHP中，heredoc是一种特殊的字符串，它的结束标志必须?(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:heredoc的语法是用&#8221;<<<&#8221;加上自己定义成对的标签，在标签范围內的文字视为一个字符串
> </div>
> 
> <div id="_mcePaste">
>   例子:
> </div>
> 
> <div id="_mcePaste">
>   $str = <<<SHOW
> </div>
> 
> <div id="_mcePaste">
>   my name is Jiang Qihui!
> </div>
> 
> <div id="_mcePaste">
>   SHOW;
> </div>
> 
> <div id="_mcePaste">
>   13、谈谈asp,php,jsp的优缺点(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:ASP全名Active Server Pages，是一个WEB服务器端的开发环境， 利用它可以产生和运
> </div>
> 
> <div id="_mcePaste">
>   行动态的、交互的、高性能的WEB服务应用程序。ASP采用脚本语言VB Script（Java script
> </div>
> 
> <div id="_mcePaste">
>   ）作为自己的开发语言。
> </div>
> 
> <div id="_mcePaste">
>   PHP是一种跨平台的服务器端的嵌入式脚本语言. 它大量地借用C,Java和Perl语言的语法
> </div>
> 
> <div id="_mcePaste">
>   , 并耦合PHP自己的特性,使WEB开发者能够快速地写出动态生成页面.它支持目前绝大多数数
> </div>
> 
> <div id="_mcePaste">
>   据库。还有一点，PHP是完全免费的，不用花钱，你可以从PHP官方站点(http://www.php.ne
> </div>
> 
> <div id="_mcePaste">
>   t)自由下载。而且你可以不受限制地获得源码，甚至可以从中加进你自己需要的特色。
> </div>
> 
> <div id="_mcePaste">
>   JSP 是Sun公司推出的新一代站点开发语言，他完全解决了目前ASP,PHP的一个通病－－
> </div>
> 
> <div id="_mcePaste">
>   脚本级执行（据说PHP4 也已经在Zend 的支持下，实现编译运行）.Sun 公司借助自己在Jav
> </div>
> 
> <div id="_mcePaste">
>   a 上的不凡造诣，将Java 从Java 应用程序 和 Java Applet 之外，又有新的硕果，就是Js
> </div>
> 
> <div id="_mcePaste">
>   p－－Java Server Page。Jsp 可以在Serverlet和JavaBean的支持下，完成功能强大的站点
> </div>
> 
> <div id="_mcePaste">
>   程序。
> </div>
> 
> <div id="_mcePaste">
>   三者都提供在 HTML 代码中混合某种程序代码、由语言引擎解释执行程序代码的能力。
> </div>
> 
> <div id="_mcePaste">
>   但JSP代码被编译成 Servlet 并由 Java 虚拟机解释执行，这种编译操作仅在对 JSP 页面的
> </div>
> 
> <div id="_mcePaste">
>   第一次请求时发生。在 ASP 、PHP、JSP 环境下， HTML 代码主要负责描述信息的显示样式
> </div>
> 
> <div id="_mcePaste">
>   ，而程序代码则用来描述处理逻辑。普通的 HTML 页面只依赖于 Web 服务器，而 ASP 、PH
> </div>
> 
> <div id="_mcePaste">
>   P、JSP 页面需要附加的语言引擎分析和执行程序代码。程序代码的执行结果被重新嵌入到
> </div>
> 
> <div id="_mcePaste">
>   HTML 代码中，然后一起发送给浏览器。 ASP 、PHP、 JSP三者都是面向 Web 服务器的技术
> </div>
> 
> <div id="_mcePaste">
>   ，客户端浏览器不需要任何附加的软件支持。
> </div>
> 
> <div id="_mcePaste">
>   14、谈谈对mvc的认识(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:由模型(model),视图(view),控制器(controller)完成的应用程序
> </div>
> 
> <div id="_mcePaste">
>   由模型发出要实现的功能到控制器,控制器接收组织功能传递给视图;
> </div>
> 
> <div id="_mcePaste">
>   15、写出发贴数最多的十个人名字的SQL，利用下表：members(id,username,posts,pass,email)(2分)
> </div>
> 
> <div id="_mcePaste">
>   答:SELECT * FROM `members` ORDER BY posts DESC limit 0,10;
> </div>
> 
> <div id="_mcePaste">
>   16. 请说明php中传值与传引用的区别。什么时候传值什么时候传引用?(2分)
> </div>
> 
> <div id="_mcePaste">
>   答:按值传递：函数范围内对值的任何改变在函数外部都会被忽略
> </div>
> 
> <div id="_mcePaste">
>   按引用传递：函数范围内对值的任何改变在函数外部也能反映出这些修改
> </div>
> 
> <div id="_mcePaste">
>   优缺点：按值传递时，php必须复制值。特别是对于大型的字符串和对象来说，这将会是一个代价很大的操作。
> </div>
> 
> <div id="_mcePaste">
>   按引用传递则不需要复制值，对于性能提高很有好处。
> </div>
> 
> <div id="_mcePaste">
>   17. 在PHP中error_reporting这个函数有什么作用? (1分)
> </div>
> 
> <div id="_mcePaste">
>   答:设置错误级别与错误信息回报
> </div>
> 
> <div id="_mcePaste">
>   18. 请写一个函数验证电子邮件的格式是否正确 (2分)
> </div>
> 
> <div id="_mcePaste">
>   答:function checkEmail($email)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   $pregEmail = &#8220;/([a-z0-9]*[-_\.]?[a-z0-9]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+[\.][a-z]{2,3}([\.][a-z]{2})?/i&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   return preg_match($pregEmail,$email);
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   19. 简述如何得到当前执行脚本路径，包括所得到参数。(2分)
> </div>
> 
> <div id="_mcePaste">
>   答:$script_name = basename(__file__); print_r($script_name);
> </div>
> 
> <div id="_mcePaste">
>   21、JS表单弹出对话框函数是?获得输入焦点函数是? (2分)
> </div>
> 
> <div id="_mcePaste">
>   答:弹出对话框: alert(),prompt(),confirm()
> </div>
> 
> <div id="_mcePaste">
>   获得输入焦点 focus()
> </div>
> 
> <div id="_mcePaste">
>   22、JS的转向函数是?怎么引入一个外部JS文件?(2分)
> </div>
> 
> <div id="_mcePaste">
>   答:window.location.href,<script type=&#8221;text/javascript&#8221; src=&#8221;js/js_function.js&#8221;></script>
> </div>
> 
> <div id="_mcePaste">
>   23、foo()和@foo()之间有什么区别?(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:@foo()控制错误输出
> </div>
> 
> <div id="_mcePaste">
>   24、如何声明一个名为”myclass”的没有方法和属性的类? (1分)
> </div>
> 
> <div id="_mcePaste">
>   答:class myclass{ }
> </div>
> 
> <div id="_mcePaste">
>   25、如何实例化一个名为”myclass”的对象?(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:new myclass()
> </div>
> 
> <div id="_mcePaste">
>   26、你如何访问和设置一个类的属性? (2分)
> </div>
> 
> <div id="_mcePaste">
>   答:$object = new myclass();
> </div>
> 
> <div id="_mcePaste">
>   $newstr = $object->test;
> </div>
> 
> <div id="_mcePaste">
>   $object->test = &#8220;info&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   27、mysql_fetch_row() 和mysql_fetch_array之间有什么区别? (1分)
> </div>
> 
> <div id="_mcePaste">
>   答:mysql_fetch_row是从结果集取出1行数组,作为枚举
> </div>
> 
> <div id="_mcePaste">
>   mysql_fetch_array是从结果集取出一行数组作为关联数组,或数字数组,两者兼得
> </div>
> 
> <div id="_mcePaste">
>   28、GD库是做什么用的? (1分)
> </div>
> 
> <div id="_mcePaste">
>   答:gd库提供了一系列用来处理图片的API，使用GD库可以处理图片，或者生成图片。
> </div>
> 
> <div id="_mcePaste">
>   在网站上GD库通常用来生成缩略图或者用来对图片加水印或者对网站数据生成报表。
> </div>
> 
> <div id="_mcePaste">
>   29、指出一些在PHP输入一段HTML代码的办法。(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:echo &#8220;<a href=&#8217;index.php&#8217;>aaa</a>&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   30、下面哪个函数可以打开一个文件，以对文件进行读和写操作?(1分)
> </div>
> 
> <div id="_mcePaste">
>   (a) fget() (b) file_open() (c) fopen() (d) open_file()  [  c  ]
> </div>
> 
> <div id="_mcePaste">
>   31、下面哪个选项没有将 john 添加到users 数组中? (1分)
> </div>
> 
> <div id="_mcePaste">
>   (a) $users[] = ‘john’;
> </div>
> 
> <div id="_mcePaste">
>   (b) array_add($users,’john’);
> </div>
> 
> <div id="_mcePaste">
>   (c) array_push($users,‘john’);
> </div>
> 
> <div id="_mcePaste">
>   (d) $users ||= ‘john’;  [  a , c  ]
> </div>
> 
> <div id="_mcePaste">
>   32、下面的程序会输入是否?(1分)
> </div>
> 
> <div id="_mcePaste">
>   $num = 10;
> </div>
> 
> <div id="_mcePaste">
>   function multiply(){
> </div>
> 
> <div id="_mcePaste">
>   $num = $num * 10;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   multiply();
> </div>
> 
> <div id="_mcePaste">
>   echo $num;
> </div>
> 
> <div id="_mcePaste">
>   ?>
> </div>
> 
> <div id="_mcePaste">
>   输出:10
> </div>
> 
> <div id="_mcePaste">
>   33、使用php写一段简单查询，查出所有姓名为“张三”的内容并打印出来 (2分)
> </div>
> 
> <div id="_mcePaste">
>   表名User
> </div>
> 
> <div id="_mcePaste">
>   Name Tel Content Date
> </div>
> 
> <div id="_mcePaste">
>   张三 13333663366 大专毕业 2006-10-11
> </div>
> 
> <div id="_mcePaste">
>   张三 13612312331 本科毕业 2006-10-15
> </div>
> 
> <div id="_mcePaste">
>   张四 021-55665566 中专毕业 2006-10-15
> </div>
> 
> <div id="_mcePaste">
>   请根据上面的题目完成代码：
> </div>
> 
> <div id="_mcePaste">
>   $mysql_db=mysql_connect(&#8220;local&#8221;,&#8221;root&#8221;,&#8221;pass&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   @mysql_select_db(&#8220;DB&#8221;,$mysql_db);
> </div>
> 
> <div id="_mcePaste">
>   $result = mysql_query(&#8220;SELECT * FROM `user` WHERE name=&#8217;张三&#8217;&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   while($rs = mysql_fetch_array($result)){
> </div>
> 
> <div id="_mcePaste">
>   echo $rs["tel"].$rs["content"].$rs["date"];
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   34、如何使用下面的类,并解释下面什么意思?(3)
> </div>
> 
> <div id="_mcePaste">
>   class test{
> </div>
> 
> <div id="_mcePaste">
>   function Get_test($num){
> </div>
> 
> <div id="_mcePaste">
>   $num=md5(md5($num).&#8221;En&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   return $num;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   答:$testnum = &#8220;123&#8243;;
> </div>
> 
> <div id="_mcePaste">
>   $object = new test();
> </div>
> 
> <div id="_mcePaste">
>   $encrypt = $object->Get_test($testnum);
> </div>
> 
> <div id="_mcePaste">
>   echo $encrypt;
> </div>
> 
> <div id="_mcePaste">
>   类test里面包含Get_test方法,实例化类调用方法多字符串加密
> </div>
> 
> <div id="_mcePaste">
>   35、写出 SQL语句的格式 : 插入 ，更新 ，删除 (4分)
> </div>
> 
> <div id="_mcePaste">
>   表名User
> </div>
> 
> <div id="_mcePaste">
>   Name Tel Content Date
> </div>
> 
> <div id="_mcePaste">
>   张三 13333663366 大专毕业 2006-10-11
> </div>
> 
> <div id="_mcePaste">
>   张三 13612312331 本科毕业 2006-10-15
> </div>
> 
> <div id="_mcePaste">
>   张四 021-55665566 中专毕业 2006-10-15
> </div>
> 
> <div id="_mcePaste">
>   (a) 有一新记录(小王 13254748547 高中毕业 2007-05-06)请用SQL语句新增至表中
> </div>
> 
> <div id="_mcePaste">
>   mysql_query(&#8220;INSERT INTO `user` (name,tel,content,date) VALUES
> </div>
> 
> <div id="_mcePaste">
>   (&#8216;小王&#8217;,&#8217;13254748547&#8242;,&#8217;高中毕业&#8217;,&#8217;2007-05-06&#8242;)&#8221;)
> </div>
> 
> <div id="_mcePaste">
>   (b) 请用sql语句把张三的时间更新成为当前系统时间
> </div>
> 
> <div id="_mcePaste">
>   $nowDate = date(&#8220;Ymd&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   mysql_query(&#8220;UPDATE `user` SET date=&#8217;&#8221;.$nowDate.&#8221;&#8216; WHERE name=&#8217;张山&#8217;&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   (c) 请写出删除名为张四的全部记录
> </div>
> 
> <div id="_mcePaste">
>   mysql_query(&#8220;DELETE FROM `user` WHERE name=&#8217;张四&#8217;&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   36、请写出数据类型(int char varchar datetime text)的意思; 请问varchar和char有什么区别(2分)
> </div>
> 
> <div id="_mcePaste">
>   答:int是数字类型,char固定长度字符串,varchar实际长度字符串,datetime日期时间型,text文本字符串
> </div>
> 
> <div id="_mcePaste">
>   char的场地固定为创建表设置的长度,varchar为可变长度的字符
> </div>
> 
> <div id="_mcePaste">
>   38、写出以下程序的输出结果 (1分)
> </div>
> 
> <div id="_mcePaste">
>   $b=201;
> </div>
> 
> <div id="_mcePaste">
>   $c=40;
> </div>
> 
> <div id="_mcePaste">
>   $a=$b>$c?4:5;
> </div>
> 
> <div id="_mcePaste">
>   echo $a;
> </div>
> 
> <div id="_mcePaste">
>   ?>
> </div>
> 
> <div id="_mcePaste">
>   答:4
> </div>
> 
> <div id="_mcePaste">
>   39、检测一个变量是否有设置的函数是否?是否为空的函数是?(2分)
> </div>
> 
> <div id="_mcePaste">
>   答:isset($str),empty($str);
> </div>
> 
> <div id="_mcePaste">
>   40、取得查询结果集总数的函数是?(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:mysql_num_rows($result);
> </div>
> 
> <div id="_mcePaste">
>   41、$arr = array(&#8216;james&#8217;, &#8216;tom&#8217;, &#8216;symfony&#8217;); 请打印出第一个元素的值 (1分)
> </div>
> 
> <div id="_mcePaste">
>   答:echo $array[0];
> </div>
> 
> <div id="_mcePaste">
>   42、请将41题的数组的值用&#8217;,'号分隔并合并成字串输出(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:for($i=0;$i<count($array);$i++){ echo $array[$i].&#8221;,&#8221;;}
> </div>
> 
> <div id="_mcePaste">
>   43、$a = &#8216;abcdef&#8217;; 请取出$a的值并打印出第一个字母(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:echo $a{0} 或 echo substr($a,0,1)
> </div>
> 
> <div id="_mcePaste">
>   44、PHP可以和sql server/oracle等数据库连接吗?(1分)
> </div>
> 
> <div id="_mcePaste">
>   答:当然可以
> </div>
> 
> <div id="_mcePaste">
>   45、请写出PHP5权限控制修饰符(3分)
> </div>
> 
> <div id="_mcePaste">
>   答:public(公共),private(私用),protected(继承)
> </div>
> 
> <div id="_mcePaste">
>   46、请写出php5的构造函数和析构函数(2分)
> </div>
> 
> <div id="_mcePaste">
>   答:__construct , __destruct
> </div>
> 
> <div id="_mcePaste">
>   47、完成以下:
> </div>
> 
> <div id="_mcePaste">
>   (一)创建新闻发布系统，表名为message有如下字段 (3分)
> </div>
> 
> <div id="_mcePaste">
>   id 文章id
> </div>
> 
> <div id="_mcePaste">
>   title 文章标题
> </div>
> 
> <div id="_mcePaste">
>   content 文章内容
> </div>
> 
> <div id="_mcePaste">
>   category_id 文章分类id
> </div>
> 
> <div id="_mcePaste">
>   hits 点击量
> </div>
> 
> <div id="_mcePaste">
>   答:CREATE TABLE &#8216;message&#8217;(
> </div>
> 
> <div id="_mcePaste">
>   &#8216;id&#8217; int(10) NOT NULL auto_increment,
> </div>
> 
> <div id="_mcePaste">
>   &#8216;title&#8217; varchar(200) default NULL,
> </div>
> 
> <div id="_mcePaste">
>   &#8216;content&#8217; text,
> </div>
> 
> <div id="_mcePaste">
>   &#8216;category_id&#8217; int(10) NOT NULL,
> </div>
> 
> <div id="_mcePaste">
>   &#8216;hits&#8217; int(20),
> </div>
> 
> <div id="_mcePaste">
>   PRIMARY KEY(&#8216;id&#8217;);
> </div>
> 
> <div id="_mcePaste">
>   )ENGINE=InnoDB DEFAULT CHARSET=utf8;
> </div>
> 
> <div id="_mcePaste">
>   (二)同样上述新闻发布系统：表comment记录用户回复内容，字段如下 (4分)
> </div>
> 
> <div id="_mcePaste">
>   comment_id 回复id
> </div>
> 
> <div id="_mcePaste">
>   id 文章id，关联message表中的id
> </div>
> 
> <div id="_mcePaste">
>   comment_content 回复内容
> </div>
> 
> <div id="_mcePaste">
>   现通过查询数据库需要得到以下格式的文章标题列表,并按照回复数量排序，回复最高的排在最前面
> </div>
> 
> <div id="_mcePaste">
>   文章id 文章标题 点击量 回复数量
> </div>
> 
> <div id="_mcePaste">
>   用一个SQL语句完成上述查询，如果文章没有回复则回复数量显示为0
> </div>
> 
> <div id="_mcePaste">
>   答:SELECT message.id id,message.title title,IF(message.`hits` IS NULL,0,message.`hits`) hits,
> </div>
> 
> <div id="_mcePaste">
>   IF(comment.`id` is NULL,0,count(*)) number FROM message LEFT JOIN
> </div>
> 
> <div id="_mcePaste">
>   comment ON message.id=comment.id GROUP BY message.`id`;
> </div>
> 
> <div id="_mcePaste">
>   (三)上述内容管理系统，表category保存分类信息，字段如下 (3分)
> </div>
> 
> <div id="_mcePaste">
>   category_id int(4) not null auto_increment;
> </div>
> 
> <div id="_mcePaste">
>   categroy_name varchar(40) not null;
> </div>
> 
> <div id="_mcePaste">
>   用户输入文章时，通过选择下拉菜单选定文章分类
> </div>
> 
> <div id="_mcePaste">
>   写出如何实现这个下拉菜单
> </div>
> 
> <div id="_mcePaste">
>   答:function categoryList()
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   $result=mysql_query(&#8220;select category_id,categroy_name from category&#8221;)
> </div>
> 
> <div id="_mcePaste">
>   or die(&#8220;Invalid query: &#8221; . mysql_error());
> </div>
> 
> <div id="_mcePaste">
>   print(&#8220;<select name=&#8217;category&#8217; value=&#8221;>\n&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   while($rowArray=mysql_fetch_array($result))
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   print(&#8220;<option value=&#8217;&#8221;.$rowArray['category_id'].&#8221;&#8216;>&#8221;.$rowArray['categroy_name'].&#8221;</option>\n&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   print(&#8220;</select>&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   编程题:
> </div>
> 
> <div id="_mcePaste">
>   1. 写一个函数，尽可能高效的，从一个标准 url 里取出文件的扩展名
> </div>
> 
> <div id="_mcePaste">
>   例如: http://www.sina.com.cn/abc/de/fg.php?id=1 需要取出 php 或 .php
> </div>
> 
> <div id="_mcePaste">
>   答案1:
> </div>
> 
> <div id="_mcePaste">
>   function getExt($url){
> </div>
> 
> <div id="_mcePaste">
>   $arr = parse_url($url);
> </div>
> 
> <div id="_mcePaste">
>   $file = basename($arr['path']);
> </div>
> 
> <div id="_mcePaste">
>   $ext = explode(&#8220;.&#8221;,$file);
> </div>
> 
> <div id="_mcePaste">
>   return $ext[1];
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   答案2:
> </div>
> 
> <div id="_mcePaste">
>   function getExt($url) {
> </div>
> 
> <div id="_mcePaste">
>   $url = basename($url);
> </div>
> 
> <div id="_mcePaste">
>   $pos1 = strpos($url,&#8221;.&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   $pos2 = strpos($url,&#8221;?&#8221;);
> </div>
> 
> <div id="_mcePaste">
>   if(strstr($url,&#8221;?&#8221;)){
> </div>
> 
> <div id="_mcePaste">
>   return substr($url,$pos1 + 1,$pos2 &#8211; $pos1 &#8211; 1);
> </div>
> 
> <div id="_mcePaste">
>   } else {
> </div>
> 
> <div id="_mcePaste">
>   return substr($url,$pos1);
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   2. 在 HTML 语言中，页面头部的 meta 标记可以用来输出文件的编码格式，以下是一个标准的 meta 语句
> </div>
> 
> <div id="_mcePaste">
>   请使用 PHP 语言写一个函数，把一个标准 HTML 页面中的类似 meta 标记中的 charset 部分值改为 big5
> </div>
> 
> <div id="_mcePaste">
>   请注意:
> </div>
> 
> <div id="_mcePaste">
>   1. 需要处理完整的 html 页面，即不光此 meta 语句
> </div>
> 
> <div id="_mcePaste">
>   2. 忽略大小写
> </div>
> 
> <div id="_mcePaste">
>   3. &#8216; 和 &#8221; 在此处是可以互换的
> </div>
> 
> <div id="_mcePaste">
>   4. &#8216;Content-Type&#8217; 两侧的引号是可以忽略的，但 &#8216;text/html; charset=gbk&#8217; 两侧的不行
> </div>
> 
> <div id="_mcePaste">
>   5. 注意处理多余空格
> </div>
> 
> <div id="_mcePaste">
>   3. 写一个函数，算出两个文件的相对路径
> </div>
> 
> <div id="_mcePaste">
>   如 $a = &#8216;/a/b/c/d/e.php&#8217;;
> </div>
> 
> <div id="_mcePaste">
>   $b = &#8216;/a/b/12/34/c.php&#8217;;
> </div>
> 
> <div id="_mcePaste">
>   计算出 $b 相对于 $a 的相对路径应该是 ../../c/d将()添上
> </div>
> 
> <div id="_mcePaste">
>   答:function getRelativePath($a, $b) {
> </div>
> 
> <div id="_mcePaste">
>   $returnPath = array(dirname($b));
> </div>
> 
> <div id="_mcePaste">
>   $arrA = explode(&#8216;/&#8217;, $a);
> </div>
> 
> <div id="_mcePaste">
>   $arrB = explode(&#8216;/&#8217;, $returnPath[0]);
> </div>
> 
> <div id="_mcePaste">
>   for ($n = 1, $len = count($arrB); $n < $len; $n++) {
> </div>
> 
> <div id="_mcePaste">
>   if ($arrA[$n] != $arrB[$n]) {
> </div>
> 
> <div id="_mcePaste">
>   break;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   if ($len &#8211; $n > 0) {
> </div>
> 
> <div id="_mcePaste">
>   $returnPath = array_merge($returnPath, array_fill(1, $len &#8211; $n, &#8216;..&#8217;));
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   $returnPath = array_merge($returnPath, array_slice($arrA, $n));
> </div>
> 
> <div id="_mcePaste">
>   return implode(&#8216;/&#8217;, $returnPath);
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   echo getRelativePath($a, $b);
> </div>
> 
> <div id="_mcePaste">
>   填空题:
> </div>
> 
> <div id="_mcePaste">
>   1.在PHP中，当前脚本的名称(不包括路径和查询字符串)记录在预定义变量__$_SERVER['PHP_SELF']__中;而链接到当前页面的URL记录在预定义变量__$_SERVER['HTTP_REFERER']__
> </div>
> 
> <div id="_mcePaste">
>   中
> </div>
> 
> <div id="_mcePaste">
>   2.执行程序段<?php echo 8%(-2) ?>将输出__0__。
> </div>
> 
> <div id="_mcePaste">
>   3.在HTTP 1.0中，状态码 401 的含义是____;如果返回“找不到文件”的提示，则可用 header 函数，其语句为____。
> </div>
> 
> <div id="_mcePaste">
>   4.数组函数 arsort 的作用是__对数组进行逆向排序并保持索引关系__;语句 error_reporting(2047)的作用是__报告所有错误和警告__。
> </div>
> 
> <div id="_mcePaste">
>   5.PEAR中的数据库连接字符串格式是____。
> </div>
> 
> <div id="_mcePaste">
>   6.写出一个正则表达式，过虑网页上的所有JS/VBS脚本(即把scrīpt标记及其内容都去掉):preg_replace(&#8220;/<script[^>].*?>.*?</script>/si&#8221;, &#8220;newinfo&#8221;, $script);
> </div>
> 
> <div id="_mcePaste">
>   7.以Apache模块的方式安装PHP，在文件http.conf中首先要用语句____动态装载PHP模块，然后再用语句____使得Apache把所有扩展名为php的文件都作为PHP脚本处理。
> </div>
> 
> <div>
>   LoadModule php5_module &#8220;c:/php/php5apache2.dll&#8221; , AddType application/x-httpd-php .php,
> </div>
> 
> <div id="_mcePaste">
>   8.语句 include 和 require 都能把另外一个文件包含到当前文件中，它们的区别是____;为了避免多次包含同一文件，可以用语句__require_once||include_once__来代替它们。
> </div>
> 
> <div id="_mcePaste">
>   9.类的属性可以序列化后保存到 session 中，从而以后可以恢复整个类，这要用到的函数是____。
> </div>
> 
> <div id="_mcePaste">
>   10.一个函数的参数不能是对变量的引用，除非在php.ini中把__allow_call_time_pass_reference boolean__设为on.
> </div>
> 
> <div id="_mcePaste">
>   11.SQL中LEFT JOIN的含义是__自然左外链接__。如果 tbl_user记录了学生的姓名(name)和学号(ID)，tbl_score记录了学生(有的学生考试以后被开除了，没有其记录)的学号(ID)
> </div>
> 
> <div id="_mcePaste">
>   和考试成绩(score)以及考试科目(subject)，要想打印出各个学生姓名及对应的的各科总成绩，则可以用SQL语句____。
> </div>
> 
> <div id="_mcePaste">
>   12.在PHP中，heredoc是一种特殊的字符串，它的结束标志必须____。
> </div>
> 
> <div id="_mcePaste">
>   编程题:
> </div>
> 
> <div id="_mcePaste">
>   13.写一个函数，能够遍历一个文件夹下的所有文件和子文件夹。
> </div>
> 
> <div id="_mcePaste">
>   答:
> </div>
> 
> <div id="_mcePaste">
>   function my_scandir($dir)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   $files = array();
> </div>
> 
> <div id="_mcePaste">
>   if ( $handle = opendir($dir) ) {
> </div>
> 
> <div id="_mcePaste">
>   while ( ($file = readdir($handle)) !== false ) {
> </div>
> 
> <div id="_mcePaste">
>   if ( $file != &#8220;..&#8221; && $file != &#8220;.&#8221; ) {
> </div>
> 
> <div id="_mcePaste">
>   if ( is_dir($dir . &#8220;/&#8221; . $file) ) {
> </div>
> 
> <div id="_mcePaste">
>   $files[$file] = scandir($dir . &#8220;/&#8221; . $file);
> </div>
> 
> <div id="_mcePaste">
>   }else {
> </div>
> 
> <div id="_mcePaste">
>   $files[] = $file;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   closedir($handle);
> </div>
> 
> <div id="_mcePaste">
>   return $files;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   14.简述论坛中无限分类的实现原理。
> </div>
> 
> <div id="_mcePaste">
>   答:
> </div>
> 
> <div id="_mcePaste">
>   <?php
> </div>
> 
> <div id="_mcePaste">
>   /*
> </div>
> 
> <div id="_mcePaste">
>   数据表结构如下:
> </div>
> 
> <div id="_mcePaste">
>   CREATE TABLE `category` (
> </div>
> 
> <div id="_mcePaste">
>   `categoryID` smallint(5) unsigned NOT NULL auto_increment,
> </div>
> 
> <div id="_mcePaste">
>   `categoryParentID` smallint(5) unsigned NOT NULL default &#8217;0&#8242;,
> </div>
> 
> <div id="_mcePaste">
>   `categoryName` varchar(50) NOT NULL default &#8221;,
> </div>
> 
> <div id="_mcePaste">
>   PRIMARY KEY (`categoryID`)
> </div>
> 
> <div id="_mcePaste">
>   ) ENGINE=MyISAM DEFAULT CHARSET=gbk;
> </div>
> 
> <div id="_mcePaste">
>   INSERT INTO `category` ( `categoryParentID`, `categoryName`) VALUES
> </div>
> 
> <div id="_mcePaste">
>   (0, &#8216;一级类别&#8217;),
> </div>
> 
> <div id="_mcePaste">
>   (1, &#8216;二级类别&#8217;),
> </div>
> 
> <div id="_mcePaste">
>   (1, &#8216;二级类别&#8217;),
> </div>
> 
> <div id="_mcePaste">
>   (1, &#8216;二级类别&#8217;),
> </div>
> 
> <div id="_mcePaste">
>   (2, &#8216;三级类别&#8217;),
> </div>
> 
> <div id="_mcePaste">
>   (2, &#8217;333332&#8242;),
> </div>
> 
> <div id="_mcePaste">
>   (2, &#8217;234234&#8242;),
> </div>
> 
> <div id="_mcePaste">
>   (3, &#8216;aqqqqqd&#8217;),
> </div>
> 
> <div id="_mcePaste">
>   (4, &#8216;哈哈&#8217;),
> </div>
> 
> <div id="_mcePaste">
>   (5, &#8217;66333666&#8242;);
> </div>
> 
> <div id="_mcePaste">
>   */
> </div>
> 
> <div id="_mcePaste">
>   //指定分类id变量$category_id,然后返回该分类的所有子类
> </div>
> 
> <div id="_mcePaste">
>   //$default_category为默认的选中的分类
> </div>
> 
> <div id="_mcePaste">
>   function Get_Category($category_id = 0,$level = 0, $default_category = 0)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   global $DB;
> </div>
> 
> <div id="_mcePaste">
>   $sql = &#8220;SELECT * FROM category ORDER BY categoryID DESC&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   $result = $DB->query( $sql );
> </div>
> 
> <div id="_mcePaste">
>   while ($rows = $DB->fetch_array($result))
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   $category_array[$rows[categoryParentID]][$rows[categoryID]] = array(&#8216;id&#8217; => $rows[categoryID], &#8216;parent&#8217; => $rows[categoryParentID], &#8216;name&#8217; => $rows
> </div>
> 
> <div id="_mcePaste">
>   [categoryName]);
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   if (!isset($category_array[$category_id]))
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   return &#8220;&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   foreach($category_array[$category_id] AS $key => $category)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   if ($category['id'] == $default_category)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   echo &#8220;<option selected value=&#8221;.$category['id'].&#8221;";
> </div>
> 
> <div id="_mcePaste">
>   }else
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   echo &#8220;<option value=&#8221;.$category['id'].&#8221;";
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   if ($level > 0)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   echo &#8220;>&#8221; . str_repeat( &#8221; &#8220;, $level ) . &#8221; &#8221; . $category['name'] . &#8220;</option>\n&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   else
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   echo &#8220;>&#8221; . $category['name'] . &#8220;</option>\n&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   Get_Category($key, $level + 1, $default_category);
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   unset($category_array[$category_id]);
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   /*
> </div>
> 
> <div id="_mcePaste">
>   函数返回的数组格式如下所示:
> </div>
> 
> <div id="_mcePaste">
>   Array
> </div>
> 
> <div id="_mcePaste">
>   (
> </div>
> 
> <div id="_mcePaste">
>   [1] => Array ( [id] => 1 [name] => 一级类别 [level] => 0 [ParentID] => 0 )
> </div>
> 
> <div id="_mcePaste">
>   [4] => Array ( [id] => 4 [name] => 二级类别 [level] => 1 [ParentID] => 1 )
> </div>
> 
> <div id="_mcePaste">
>   [9] => Array ( [id] => 9 [name] => 哈哈 [level] => 2 [ParentID] => 4 )
> </div>
> 
> <div id="_mcePaste">
>   [3] => Array ( [id] => 3 [name] => 二级类别 [level] => 1 [ParentID] => 1 )
> </div>
> 
> <div id="_mcePaste">
>   [8] => Array ( [id] => 8 [name] => aqqqqqd [level] => 2 [ParentID] => 3 )
> </div>
> 
> <div id="_mcePaste">
>   [2] => Array ( [id] => 2 [name] => 二级类别 [level] => 1 [ParentID] => 1 )
> </div>
> 
> <div id="_mcePaste">
>   [7] => Array ( [id] => 7 [name] => 234234 [level] => 2 [ParentID] => 2 )
> </div>
> 
> <div id="_mcePaste">
>   [6] => Array ( [id] => 6 [name] => 333332 [level] => 2 [ParentID] => 2 )
> </div>
> 
> <div id="_mcePaste">
>   [5] => Array ( [id] => 5 [name] => 三级类别 [level] => 2 [ParentID] => 2 )
> </div>
> 
> <div id="_mcePaste">
>   [10] => Array ( [id] => 10 [name] => 66333666 [level] => 3 [ParentID] => 5 )
> </div>
> 
> <div id="_mcePaste">
>   )
> </div>
> 
> <div id="_mcePaste">
>   */
> </div>
> 
> <div id="_mcePaste">
>   //指定分类id,然后返回数组
> </div>
> 
> <div id="_mcePaste">
>   function Category_array($category_id = 0,$level=0)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   global $DB;
> </div>
> 
> <div id="_mcePaste">
>   $sql = &#8220;SELECT * FROM category ORDER BY categoryID DESC&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   $result = $DB->query($sql);
> </div>
> 
> <div id="_mcePaste">
>   while ($rows = $DB->fetch_array($result))
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   $category_array[$rows['categoryParentID']][$rows['categoryID']] = $rows;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   foreach ($category_array AS $key=>$val)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   if ($key == $category_id)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   foreach ($val AS $k=> $v)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   $options[$k] =
> </div>
> 
> <div id="_mcePaste">
>   array(
> </div>
> 
> <div id="_mcePaste">
>   &#8216;id&#8217; => $v['categoryID'], &#8216;name&#8217; => $v['categoryName'], &#8216;level&#8217; => $level, &#8216;ParentID&#8217;=>$v['categoryParentID']
> </div>
> 
> <div id="_mcePaste">
>   );
> </div>
> 
> <div id="_mcePaste">
>   $children = Category_array($k, $level+1);
> </div>
> 
> <div id="_mcePaste">
>   if (count($children) > 0)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   $options = $options + $children;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   unset($category_array[$category_id]);
> </div>
> 
> <div id="_mcePaste">
>   return $options;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   ?>
> </div>
> 
> <div id="_mcePaste">
>   <?php
> </div>
> 
> <div id="_mcePaste">
>   class cate
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   function Get_Category($category_id = 0,$level = 0, $default_category = 0)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   echo $category_id;
> </div>
> 
> <div id="_mcePaste">
>   $arr = array(
> </div>
> 
> <div id="_mcePaste">
>   &#8217;0&#8242; => array(
> </div>
> 
> <div id="_mcePaste">
>   &#8217;1&#8242; => array(&#8216;id&#8217; => 1, &#8216;parent&#8217; => 0, &#8216;name&#8217; => &#8217;1111&#8242;),
> </div>
> 
> <div id="_mcePaste">
>   &#8217;2&#8242; => array(&#8216;id&#8217; => 2, &#8216;parent&#8217; => 0, &#8216;name&#8217; => &#8217;2222&#8242;),
> </div>
> 
> <div id="_mcePaste">
>   &#8217;4&#8242; => array(&#8216;id&#8217; => 4, &#8216;parent&#8217; => 0, &#8216;name&#8217; => &#8217;4444&#8242;)
> </div>
> 
> <div id="_mcePaste">
>   ),
> </div>
> 
> <div id="_mcePaste">
>   &#8217;1&#8242; => array(
> </div>
> 
> <div id="_mcePaste">
>   &#8217;3&#8242; => array(&#8216;id&#8217; => 3, &#8216;parent&#8217; => 1, &#8216;name&#8217; => &#8217;333333&#8242;),
> </div>
> 
> <div id="_mcePaste">
>   &#8217;5&#8242; => array(&#8216;id&#8217; => 5, &#8216;parent&#8217; => 1, &#8216;name&#8217; => &#8217;555555&#8242;)
> </div>
> 
> <div id="_mcePaste">
>   ),
> </div>
> 
> <div id="_mcePaste">
>   &#8217;3&#8242; => array(
> </div>
> 
> <div id="_mcePaste">
>   &#8217;6&#8242; => array(&#8216;id&#8217; => 6, &#8216;parent&#8217; => 3, &#8216;name&#8217; => &#8217;66666&#8242;),
> </div>
> 
> <div id="_mcePaste">
>   &#8217;7&#8242; => array(&#8216;id&#8217; => 7, &#8216;parent&#8217; => 3, &#8216;name&#8217; => &#8217;77777&#8242;)
> </div>
> 
> <div id="_mcePaste">
>   ),
> </div>
> 
> <div id="_mcePaste">
>   &#8217;4&#8242; => array(
> </div>
> 
> <div id="_mcePaste">
>   &#8217;8&#8242; => array(&#8216;id&#8217; => 8, &#8216;parent&#8217; => 4, &#8216;name&#8217; => &#8217;8888&#8242;),
> </div>
> 
> <div id="_mcePaste">
>   &#8217;9&#8242; => array(&#8216;id&#8217; => 9, &#8216;parent&#8217; => 4, &#8216;name&#8217; => &#8217;9999&#8242;)
> </div>
> 
> <div id="_mcePaste">
>   )
> </div>
> 
> <div id="_mcePaste">
>   );
> </div>
> 
> <div id="_mcePaste">
>   if (!isset($arr[$category_id]))
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   return &#8220;&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   foreach($arr[$category_id] AS $key => $cate)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   if ($cate['id'] == $default_category)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   $txt = &#8220;<option selected value=&#8221;.$cate['id'].&#8221;";
> </div>
> 
> <div id="_mcePaste">
>   }else{
> </div>
> 
> <div id="_mcePaste">
>   $txt = &#8220;<option value=&#8221;.$cate['id'].&#8221;";
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   if ($level > 0)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   $txt1 = &#8220;>&#8221; . str_repeat( &#8220;-&#8221;, $level ) . &#8221; &#8221; . $cate['name'] . &#8220;</option>\n&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   }else{
> </div>
> 
> <div id="_mcePaste">
>   $txt1 = &#8220;>&#8221; . $cate['name'] . &#8220;</option>\n&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   $val = $txt.$txt1;
> </div>
> 
> <div id="_mcePaste">
>   echo $val;
> </div>
> 
> <div id="_mcePaste">
>   self::Get_Category($key, $level + 1, $default_category);
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   function getFlush($category_id = 0,$level = 0, $default_category = 0)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   ob_start();
> </div>
> 
> <div id="_mcePaste">
>   self::Get_Category($category_id ,$level, $default_category);
> </div>
> 
> <div id="_mcePaste">
>   $out = ob_get_contents();
> </div>
> 
> <div id="_mcePaste">
>   ob_end_clean();
> </div>
> 
> <div id="_mcePaste">
>   return $out;
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>
> 
> <div id="_mcePaste">
>   $id =$_GET['id'];
> </div>
> 
> <div id="_mcePaste">
>   echo &#8220;<select>&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   $c = new cate();
> </div>
> 
> <div id="_mcePaste">
>   //$c->Get_Category();
> </div>
> 
> <div id="_mcePaste">
>   $ttt=  $c->getFlush($id,&#8217;0&#8242;,&#8217;3&#8242;);
> </div>
> 
> <div id="_mcePaste">
>   echo $ttt;
> </div>
> 
> <div id="_mcePaste">
>   echo &#8220;</select>&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   ?>
> </div>

 [1]: http://www.80aj.com/wp-content/uploads/2010/08/php.jpg