---
title: 100728 php 重复刷新提交解决办法
layout: post
permalink: /1390.html
categories:
  - Code
tags:
  - PHP
  - php函数
  - php跳转函数
  - php防止重复刷新
  - 解决办法
---
[<img class="aligncenter size-full wp-image-1391" title="tz" src="http://www.80aj.com/wp-content/uploads/2010/07/tz.jpg" alt="" width="471" height="210" />][1]

老是遇到用户不断的刷新提交,这是非常让人恶心的,如何解决呢？或许你会说到加session,cookies判断,实际上最简单的办法就是重新指向页面,这样重复刷新也只是刷新当前页面,当然后退还是会遇到问题,无奈的, 可乐烟,这里提供的只是一种简单解决方法吧.

php header 函数

<span style="font-family: Verdana, Arial, Helvetica, sans-serif; line-height: normal; font-size: 12px;"> </span>

<h3 style="font-weight: bold; margin-top: 20px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; font-size: 12px; padding: 0px;">
  语法
</h3>

<pre style="font-size: 12px; margin: 10px 0px 0px; width: 580px; font-family: 'Courier New', monospace; background-color: #f5f5f5; background-origin: initial; background-clip: initial; border: #778855 1px dotted; padding: 10px;">header(string,replace,http_response_code)</pre>

<table class="dataintable" style="margin-top: 10px; width: 606px; font-family: Arial, Helvetica, sans-serif; border-collapse: collapse; border: #888888 1px solid;">
  <tr>
    <th style="vertical-align: baseline; padding-top: 5px; padding-right: 15px; padding-bottom: 5px; padding-left: 5px; background-color: #cccccc; text-align: left; border: 1px solid #888888;">
      参数
    </th>
    
    <th style="vertical-align: baseline; padding-top: 5px; padding-right: 15px; padding-bottom: 5px; padding-left: 5px; background-color: #cccccc; text-align: left; border: 1px solid #888888;">
      描述
    </th>
  </tr>
  
  <tr>
    <td style="vertical-align: text-top; padding-top: 5px; padding-right: 15px; padding-bottom: 5px; padding-left: 5px; background-color: #efefef; border: 1px solid #aaaaaa;">
      string
    </td>
    
    <td style="vertical-align: text-top; padding-top: 5px; padding-right: 15px; padding-bottom: 5px; padding-left: 5px; background-color: #efefef; border: 1px solid #aaaaaa;">
      必需。规定要发送的报头字符串。
    </td>
  </tr>
  
  <tr>
    <td style="vertical-align: text-top; padding-top: 5px; padding-right: 15px; padding-bottom: 5px; padding-left: 5px; background-color: #efefef; border: 1px solid #aaaaaa;">
      replace
    </td>
    
    <td style="vertical-align: text-top; padding-top: 5px; padding-right: 15px; padding-bottom: 5px; padding-left: 5px; background-color: #efefef; border: 1px solid #aaaaaa;">
      <p style="line-height: 18px; margin: 0px;">
        可选。指示该报头是否替换之前的报头，或添加第二个报头。
      </p>
      
      <p style="margin-top: 0px; margin-right: 0px; margin-bottom: 2px; margin-left: 0px; line-height: 18px;">
        默认是 true（替换）。false（允许相同类型的多个报头）。
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="vertical-align: text-top; padding-top: 5px; padding-right: 15px; padding-bottom: 5px; padding-left: 5px; background-color: #efefef; border: 1px solid #aaaaaa;">
      http_response_code
    </td>
    
    <td style="vertical-align: text-top; padding-top: 5px; padding-right: 15px; padding-bottom: 5px; padding-left: 5px; background-color: #efefef; border: 1px solid #aaaaaa;">
      可选。把 HTTP 响应代码强制为指定的值。（PHP 4 以及更高版本可用）
    </td>
  </tr>
</table>

> <div id="_mcePaste">
>   public function refalert($str)
> </div>
> 
> <div id="_mcePaste">
>   {
> </div>
> 
> <div id="_mcePaste">
>   echo &#8220;<script>alert(&#8216;$str!&#8217;)</script>&#8221;;
> </div>
> 
> <div id="_mcePaste">
>   header(&#8220;location:&#8221; . $_SERVER['HTTP_REFERER']);
> </div>
> 
> <div id="_mcePaste">
>   exit();
> </div>
> 
> <div id="_mcePaste">
>   }
> </div>

<div>
  上面代码为 跳转加alert  //无效    代码开头执行了 ob_start()   执行head 以后 会跳过js~
</div>

<div>
   
</div>

> <div>
>   public function ref()
> </div>
> 
> <div>
>   {
> </div>
> 
> <div>
>   header(&#8220;location:&#8221; . $_SERVER['HTTP_REFERER']);
> </div>
> 
> <div>
>   exit();
> </div>
> 
> <div>
>   }
> </div>

<div>
  直接跳转
</div>

 [1]: http://www.80aj.com/wp-content/uploads/2010/07/tz.jpg